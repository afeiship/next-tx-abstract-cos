{"version":3,"sources":["next-tx-abstract-cos.js"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"next-tx-abstract-cos.js","sourcesContent":["(function () {\n  var global = global || this || window || Function('return this')();\n  var nx = global.nx || require('@feizheng/next-js-core2');\n  var COS = require('cos-nodejs-sdk-v5');\n  var Promise = require('bluebird');\n  var DEFAULT_OPTIONS = {\n    SecretId: 'COS_SECRETID',\n    SecretKey: 'COS_SECRETKEY'\n  };\n\n  var NxTxAbstractCos = nx.declare('nx.TxAbstractCos', {\n    methods: {\n      init: function (inOptions) {\n        this.options = nx.mix(null, DEFAULT_OPTIONS, inOptions);\n        this.cos = new COS(this.options);\n        Promise.promisifyAll(this.cos, { context: this.cos });\n      },\n      parseOptions: function (inOptions) {\n        if (!inOptions) return;\n        var appId = this.options.id;\n        var bucket = inOptions.Bucket;\n        bucket && (inOptions.Bucket = bucket.includes(appId) ? bucket : bucket + '-' + appId);\n      }\n    }\n  });\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = NxTxAbstractCos;\n  }\n})();\n"]}